// Generated by IcedCoffeeScript 1.3.1b
(function() {

  define(['jquery', 'backbone', 'app-mobile/views/categorylistview', 'app-mobile/views/appview'], function(jQuery, Backbone, CategoryListView, AppView) {
    "use strict";

    var Router;
    Router = Backbone.Router.extend({
      initialize: function(options) {
        return console.log("init router");
      },
      routes: {
        "category-list/:category": "categoryList"
      },
      categoryList: function(category) {
        console.log("categoryList");
        return this.initNewView(new CategoryListView({
          "category": category
        }));
      },
      initNewView: function(page) {
        console.log("initView");
        jQuery(page.el).attr('data-role', 'page');
        page.render();
        jQuery('body').append(jQuery(page.el));
        return this.changePage(jQuery(page.el), "slide", false, true);
      },
      changePage: function(viewId, effect, direction, updateHash) {
        return jQuery.mobile.changePage(viewId, {
          transition: effect,
          reverse: direction,
          changeHash: updateHash
        });
      }
    });
    return Router;
  });

}).call(this);

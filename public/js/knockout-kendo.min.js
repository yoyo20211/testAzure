//knockout-kendo v0.3.5 | (c) 2012 Ryan Niemeyer | http://www.opensource.org/licenses/mit-license
(function(e){typeof require=="function"&&typeof exports=="object"&&typeof module=="object"?e(require("knockout"),require("jquery"),require("kendo")):typeof define=="function"&&define.amd?define(["knockout","jquery","kendo"],e):e(window.ko,window.jQuery,window.kendo)})(function(e,t,n,r){e.kendo=e.kendo||{},e.kendo.BindingFactory=function(){var n=this;this.createBinding=function(r){if(!t()[r.parent||r.name])return;var i={};i.init=function(e,t){var s=n.buildOptions(r,t);if(s.async===!0||r.async===!0&&s.async!==!1){setTimeout(function(){i.setup(e,s)},0);return}i.setup(e,s)},i.setup=function(i,s){var o,u=t(i);o=n.getWidget(r,s,u),n.handleEvents(s,r,i,o),n.watchValues(o,s,r,i),o.destroy&&e.utils.domNodeDisposal.addDisposeCallback(i,function(){o.destroy()})},i.options={},i.widgetConfig=r,e.bindingHandlers[r.bindingName||r.name]=i},this.buildOptions=function(t,n){var r=t.defaultOption,i=e.utils.extend({},e.bindingHandlers[t.name].options),s=e.utils.unwrapObservable(n());return typeof s!="object"||r&&!(r in s)?i[r]=n():e.utils.extend(i,s),i},this.getWidget=function(t,n,r){var i;if(t.parent){var s=r.closest("[data-bind*='"+t.parent+":']");i=s.length?s.data(t.parent):null}else i=r[t.name](e.toJS(n)).data(t.name);return e.isObservable(n.widget)&&n.widget(i),i},this.watchValues=function(e,t,r,i){var s,o=r.watch;if(o)for(s in o)o.hasOwnProperty(s)&&n.watchOneValue(s,e,t,r,i)},this.watchOneValue=function(n,r,i,s,o){var u=e.computed({read:function(){var u=s.watch[n],a=e.utils.unwrapObservable(i[n]),f=s.parent?[o]:[],l;t.isArray(u)?u=r[a?u[0]:u[1]]:typeof u=="string"&&(u=r[u]),u&&(l=u.apply(r,f),l!==a&&(f.push(a),u.apply(r,f)))},disposeWhenNodeIsRemoved:o});e.isObservable(i[n])||u.dispose()},this.handleEvents=function(t,r,i,s){var o,u,a=r.events;if(a)for(o in a)a.hasOwnProperty(o)&&(u=a[o],typeof u=="string"&&(u={value:u,writeTo:u}),e.isObservable(t[u.writeTo])&&n.handleOneEvent(o,u,t,i,s,r.childProp))},this.handleOneEvent=function(e,t,n,r,i,s){i.bind(e,function(e){var i,o;if(!s||!e[s]||e[s]===r)i=t.value,o=typeof i=="string"&&this[i]?this[i](s&&r):i,n[t.writeTo](o)})}},e.kendo.bindingFactory=new e.kendo.BindingFactory,e.kendo.setDataSource=function(t,n){t.dataSource.data(e.mapping?e.mapping.toJS(n||{}):e.toJS(n))};var i=function(t){return function(n){n&&(e.utils.extend(this.options[t],n),this.redraw(),this.value(.001+this.value()))}},s=e.kendo.bindingFactory.createBinding.bind(e.kendo.bindingFactory),o="close",u="collapse",a="content",f="data",l="disable",c="enable",h="expand",p="enabled",d="expanded",v="isOpen",m="max",g="min",y="open",b="resize",w="search",E="select",S="selected",x="size",T="title",N="value",C="values";s({name:"kendoAutoComplete",events:{change:N,open:{writeTo:v,value:!0},close:{writeTo:v,value:!1}},watch:{enabled:c,search:[w,o],data:function(t){e.kendo.setDataSource(this,t)},value:N}}),s({name:"kendoCalendar",defaultOption:N,events:{change:N},watch:{max:m,min:g,value:N}}),s({name:"kendoComboBox",events:{change:N,open:{writeTo:v,value:!0},close:{writeTo:v,value:!1}},watch:{enabled:c,isOpen:[y,o],data:function(t){e.kendo.setDataSource(this,t)},value:N}}),s({name:"kendoDatePicker",defaultOption:N,events:{change:N,open:{writeTo:v,value:!0},close:{writeTo:v,value:!1}},watch:{enabled:c,max:m,min:g,value:N,isOpen:[y,N]}}),s({name:"kendoDropDownList",events:{change:N,open:{writeTo:v,value:!0},close:{writeTo:v,value:!1}},watch:{enabled:c,isOpen:[y,o],data:function(t){e.kendo.setDataSource(this,t)},value:N}}),s({name:"kendoEditor",defaultOption:N,events:{change:N},watch:{enabled:c,value:N}}),s({name:"kendoGrid",defaultOption:f,watch:{data:function(t){e.kendo.setDataSource(this,t)}}}),s({name:"kendoListView",defaultOption:f,watch:{data:function(t){e.kendo.setDataSource(this,t)}}}),s({name:"kendoMenu",async:!0}),s({name:"kendoMenuItem",parent:"kendoMenu",watch:{enabled:c,isOpen:[y,o]},async:!0}),s({name:"kendoNumericTextBox",defaultOption:N,events:{change:N},watch:{enabled:c,value:N,max:function(e){this.options.max=e,this.value()>e&&this.value(e)},min:function(e){this.options.min=e,this.value()<e&&this.value(e)}}}),s({name:"kendoPanelBar",async:!0}),s({name:"kendoPanelItem",parent:"kendoPanelBar",watch:{enabled:c,expanded:[h,u]},childProp:"item",events:{expand:{writeTo:d,value:!0},collapse:{writeTo:d,value:!1}},async:!0}),s({name:"kendoRangeSlider",defaultOption:C,events:{change:C},watch:{values:C,enabled:[c,l]}}),s({name:"kendoSlider",defaultOption:N,events:{change:N},watch:{value:N,enabled:[c,l]}}),s({name:"kendoSplitter",async:!0}),s({name:"kendoSplitterPane",parent:"kendoSplitter",watch:{max:m,min:g,size:x,expanded:[h,u]},childProp:"pane",events:{collapse:{writeTo:d,value:!1},expand:{writeTo:d,value:!0},resize:x},async:!0}),s({name:"kendoTabStrip",async:!0}),s({name:"kendoTab",parent:"kendoTabStrip",watch:{selected:function(e,t){this.select(t?e:null)},enabled:c},childProp:"item",events:{selected:{writeTo:S,value:!0}},async:!0}),s({name:"kendoTimePicker",defaultOption:N,events:{change:N},watch:{max:m,min:g,value:N,enabled:c,isOpen:[y,o]}}),s({name:"kendoTreeView",async:!0}),s({name:"kendoTreeItem",parent:"kendoTreeView",watch:{enabled:c,expanded:[h,u],selected:function(e,t){this.select(t?e:null)}},childProp:"node",events:{collapse:{writeTo:d,value:!1},expand:{writeTo:d,value:!0},select:{writeTo:S,value:!0}},async:!0}),s({name:"kendoUpload",watch:{enabled:[c,l]}}),s({async:!0,name:"kendoWindow",events:{open:{writeTo:v,value:!0},close:{writeTo:v,value:!1}},watch:{content:a,title:T,isOpen:[y,o]}}),s({name:"kendoChart",watch:{data:function(t){e.kendo.setDataSource(this,t)}}}),s({name:"kendoLinearGauge",defaultOption:N,watch:{value:N,gaugeArea:i("gaugeArea"),pointer:i("pointer"),scale:i("scale")}}),s({name:"kendoRadialGauge",defaultOption:N,watch:{value:N,gaugeArea:i("gaugeArea"),pointer:i("pointer"),scale:i("scale")}})})